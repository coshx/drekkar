/** Drekkar 0.1.1 - https://github.com/coshx/drekkar */
var Drekkar;Drekkar=function(){function Drekkar(name){this.name=name,this.subscribers=[]}return Drekkar["default"]=null,Drekkar.buses=[],Drekkar.prototype._post=function(eventName,data){return setTimeout(function(_this){return function(){var dataToSend;return dataToSend=null,null!=data&&(dataToSend=data instanceof Array||data instanceof Object?JSON.stringify(data):data),DrekkarWebViewJSEndpoint.send(_this.name,eventName,dataToSend)}}(this),0)},Drekkar.prototype.getName=function(){return this.name},Drekkar.prototype.post=function(name,data){return this._post(name,data)},Drekkar.prototype.register=function(name,callback){return this.subscribers.push({name:name,callback:callback})},Drekkar.prototype.raise=function(name,data){var e,i,len,parsedData,ref,results;for(parsedData=null,parsedData=data instanceof Array||data instanceof Object||"string"==typeof data||data instanceof String?data:JSON.parse(data),ref=this.subscribers,results=[],i=0,len=ref.length;len>i;i++)e=ref[i],e.name===name?results.push(e.callback(name,parsedData)):results.push(void 0);return results},Drekkar.getDefault=function(){return null==Drekkar["default"]&&(Drekkar["default"]=new Drekkar("default"),Drekkar["default"].post("DrekkarInit")),Drekkar["default"]},Drekkar.get=function(name){var b,i,len,ref;for(ref=Drekkar.buses,i=0,len=ref.length;len>i;i++)if(b=ref[i],b.getName()===name)return b;return b=new Drekkar(name),Drekkar.buses.push(b),b.post("DrekkarInit"),b},Drekkar}();